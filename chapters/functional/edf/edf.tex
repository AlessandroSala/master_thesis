\subsection{Skyrme functional}
The energy functional we want to minimize is rather complex, due to the rich phenomenology of nuclear interactions and numerical nuances.
\\The complete energy functional is
\begin{equation}
\label{eq:full_functional}
E_{\text{HF}} = E_\text{Skyrme}+E_\text{Coul} + E_\text{Kin}
\end{equation}
We'll begin by looking at the Skyrme and kinetic parts, while later on give a treatment for the Coulomb one.
\begin{equation}
    \label{eq:slater_exp}
    \expval{H} = \bra{\Psi} H \ket{\Psi} = \int (\mathcal E_\text{Skyrme} + \mathcal E_\text{Kin}) d\mathbf r = \int \mathcal E d\mathbf r
\end{equation}
Since the Skyrme interaction is time-reversal invariant (as well as the kinetic operator), this means that the total Hamiltonian must be time-even.
Different additive contributions must be time-even as well, even if the densities from which they are calculated are not. Unless we reduce to the even-even nucleus case, where total angular momentum is defined at $J=0$, giving vanishing time-odd densities.
This allows us to write the functional in a simpler form as \cite{stevenson2019low}
\begin{align}
    \mathcal E_\text{Kin} &= \frac{\hbar^2}{2m}\tau \label{eq:kinfunc}\\
    \mathcal E_\text{Skyrme} &= \sum_{t=0,1}\bigg\{C_t^\rho [\rho_0]\rho_t^2+C_t^{\Delta \rho}\rho_t\nabla^2\rho_t+C_t^{\nabla\cdot J}\rho_t\nabla\cdot \mathbf J_t + C_t^\tau\rho_t\tau_t\bigg\}\label{eq:skfunc}
\end{align}
Here, $t=0,1$ refers to the isoscalar and isovector components of the densities, e.g.
\begin{align*}
    \rho_0 = \rho_p + \rho_n
    \\\rho_1 = \rho_p - \rho_n
\end{align*}
Where
\begin{align}
    %\label{eq:coefficients_func}
    C_0^\rho &= +\frac 3 8 t_0 + \frac 3 {48} t_3\rho_0^\sigma \label{eq:C0rho}
    \\C_1^\rho &= -\frac 1 8 t_0(1+2x_0)- \frac 1 {48} t_3(1+x_3)\rho_0^\sigma \label{eq:C1rho}
    \\C_0^\tau &= +\frac 3 {16} t_1 + \frac 1 {16} t_2 (5+4x_2) \label{eq:C0tau}
    \\C_1^\tau &= -\frac 1 {16} t_1(1+2x_1)+\frac 1 {16}t_2(1+2x_2) \label{eq:C1tau}
    \\C_0^{\Delta \rho} &= -\frac 9 {64}t_1+\frac 1 {64}t_2(5+4x_2) \label{eq:C0Deltarho}
    \\C_1^{\Delta \rho} &= +\frac 3 {64}t_1(1+2x_1)+\frac 1 {64}t_2(1+2x_2) \label{eq:C1Deltarho}
    \\C_0^{\nabla\cdot J} &= -\frac 3 4 W_0 \label{eq:C0nabladotJ}
    \\C_1^{\nabla\cdot J} &= -\frac 1 4 W_0 \label{eq:C1nabladotJ}
\end{align}
As outlined in previous chapters (REF), we can now derive the Kohn-Sham equations, by constraining orthonormality and enforcing the variation of the functional to be zero. What we end up with is
\begin{equation}
    \label{eq:spe_ks}
    \bigg[-\nabla\bigg(\frac{\hbar^2}{2m^{*}_q(\mathbf r)}\nabla \bigg) + U_q(\mathbf r) + \delta_{\text{q,proton}}U_C(\mathbf r)-i\mathbf B_q(\mathbf r)\cdot(\nabla \times \boldsymbol\sigma) \bigg]\varphi_\alpha=\varepsilon_\alpha\varphi_\alpha
\end{equation}
The index $q=n,p$ refers respectively to the neutron and proton quantities.
\\Where the different terms are given by
\begin{align}
    \frac{\hbar^2}{2m^{*}_q(\mathbf r)} &= \fdv{\mathcal E}{\tau_q}
    \\U_q(\mathbf r) &= \fdv{\mathcal E}{\rho_q}\label{eq:fdv_rho_skyrme}
    \\\mathbf B_q(\mathbf r) &= \fdv{\mathcal E}{\boldsymbol{\mathbf J_q}}
\end{align}
The coulomb field $U_C$, which is present only in the single particle equation for protons, doesn't come from the skyrme interaction, rather from the Coulomb part of the whole functional. It will be properly derived in section \ref{sec:coulomb_treatment}.
\\Following the rules for functional derivatives, outlined in the appendix (REF) we get
\begin{align}
    \frac{\hbar^2}{2m_q^*(\mathbf r)} =& +\frac{\hbar^2}{2m} \\&+ \frac 1 8 [t_1(2+x_1)+t_2(2+x_2)]\rho(\mathbf r) \\&- \frac 1 8 [t_1(1+2x_1)+t_2(1+2x_2)]\rho_q(\mathbf r ) \\\\
    U_q(\mathbf r) =& +\frac 1 8 [t_1(2+x_1)+t_2(2+x_2)]\rho \\&+ \frac 1 8 [t_2(1+2x_2)-t_1(1+2x_1)]\rho_q \\
    &+ \frac 1 8 [t_1(2+x_1)+t_2(2+x_2)]\tau \\&+ \frac 1 8 [t_2(1+2x_2)-t_1(1+2x_1)]\tau_q \\
    &+ \frac 1 {16} [t_2(2+x_2)-3t_1(2+x_1)] \nabla^2 \rho \\&+ \frac 1 {16} [3t_1(2x_1+1)+t_2(2x_2+1)] \nabla^2 \rho_q \\\\
    \mathbf B_q (\mathbf r ) = &+\frac 1 2 W_0 [\nabla\rho + \nabla \rho_q] \\&-\frac 1 8 (t_1 x_1 + t_2 x_2) \mathbf J + \frac 1 8 (t_1 - t_2) \mathbf J_q 
\end{align}
Unless otherwise specified, unindexed densities denote isoscalar quantities (sum of neutron's and proton's).